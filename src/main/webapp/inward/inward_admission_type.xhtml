<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/inward/inward_administration.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui">


    <ui:define name="subcontent">

        <h:panelGroup >
            <h:form  >
                <p:growl />
                <p:focus id="selectFocus" context="gpSelect" />
                <p:focus id="detailFocus" context="gpDetail" />



                <p:panel header="Manage Admission Type" >
                    <div class="row">
                        <div class="col-4">
                            <p:panel>
                                <h:panelGrid id="gpSelectButtons" columns="2" class="my-2"  >
                                    <h:commandButton id="btnAdd" value="Add" action="#{admissionTypeController.prepareAdd()}" class="btn btn-primary" >
                                        <f:ajax render="btnAdd  btnDelete btnSave   lstSelect gpDetail detailFocus" execute="" >
                                        </f:ajax>
                                    </h:commandButton>
                                    <h:commandButton id="btnDelete" onclick="if (!confirm('Are you sure you want to delete this record?'))
                                                return false;" action="#{admissionTypeController.delete()}"  value="Delete" class="btn btn-primary"  >
                                    </h:commandButton>
                                </h:panelGrid>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">                                            
                                                <p:selectOneListbox id="lstSelect" value="#{admissionTypeController.current}" class="form-control h-100"> 
                                                    <f:selectItems value="#{admissionTypeController.items}" var="myItem" itemValue="#{myItem}" itemLabel="#{myItem.name}"></f:selectItems>
                                                    <f:ajax render="gpDetail" execute="lstSelect"></f:ajax>
                                                </p:selectOneListbox>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:panel>
                        </div>

                        <div class="col-8">
                            <p:panel>
                                <h:panelGrid id="gpDetail" columns="1">
                                    <div class="row bg-primary w-100">
                                        <h:panelGrid id="gpDetailText" columns="2" class="w-100">
                                            <p:outputLabel id="lblName" value="Name of the Admission Type" class="w-100"></p:outputLabel>
                                            <p:inputText autocomplete="off" id="txtName" value="#{admissionTypeController.current.name}" class="w-100 mx-2"></p:inputText>

                                            <p:outputLabel value="Day Case or Inward Stay" class="w-100"></p:outputLabel>
                                            <p:selectOneMenu value="#{admissionTypeController.current.admissionTypeEnum}" class="w-100 mx-2">
                                                <f:selectItems value="#{enumController.admissionTypeEnum}" var="ate" itemValue="#{ate}" itemLabel="#{ate.label}" />
                                            </p:selectOneMenu>

                                            <p:outputLabel value="Code" class="w-100"></p:outputLabel>
                                            <p:inputText autocomplete="off" value="#{admissionTypeController.current.code}" class="w-100 mx-2"></p:inputText>

                                            <h:outputLabel value="Admission Fee" class="w-100"></h:outputLabel>
                                            <p:inputText autocomplete="off" value="#{admissionTypeController.current.admissionFee}" class="w-100 mx-2" />

                                            <h:outputLabel value="Default Room" class="w-100"></h:outputLabel>
                                            <p:autoComplete forceSelection="true"
                                                            value="#{admissionTypeController.current.roomFacilityCharge}"
                                                            completeMethod="#{roomFacilityChargeController.completeRoomChargeAll}"
                                                            var="rf" itemLabel="#{rf.name}" itemValue="#{rf}" class="w-100 ml-2" inputStyleClass="w-100">
                                            </p:autoComplete>

                                            <h:outputLabel value="Need to allocate a room" class="w-100"></h:outputLabel>
                                            <p:selectBooleanCheckbox value="#{admissionTypeController.current.roomChargesAllowed}" class="w-100 mx-2" />

                                            <h:outputLabel value="Count to start Admission Numbers" class="w-100"></h:outputLabel>
                                            <p:inputText autocomplete="off" value="#{admissionTypeController.current.additionToCount}" class="w-100 mx-2" />
                                        </h:panelGrid>

                                    </div>
                                    <h:panelGrid id="gpDetailButtons" columns="2">
                                        <h:commandButton id="btnSave" value="Save" action="#{admissionTypeController.saveSelected()}" class="btn btn-primary">
                                            <f:ajax render="btnAdd btnDelete btnSave lstSelect gpDetail selectFocus" execute="gpDetail"></f:ajax>
                                        </h:commandButton>
                                        <p:defaultCommand target="btnSave" />
                                    </h:panelGrid>
                                </h:panelGrid>

                            </p:panel>
                        </div>
                    </div>

                    <h:panelGrid id ="gpVeda" columns="2" >                      
                        <h:panelGrid id="gpSelect" columns="1"  >

                        </h:panelGrid  >




                    </h:panelGrid>
                </p:panel>
            </h:form>

        </h:panelGroup>

    </ui:define>

</ui:composition>
