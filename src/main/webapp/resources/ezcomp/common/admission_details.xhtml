<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      >

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="admission" type="com.divudi.entity.inward.Admission"  />
        <cc:attribute name="rooms" type="java.util.List" />
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <p:panel  class="my-1" header="Admission Details">
            <h:panelGrid columns="2" class="w-100">
                <p:outputLabel value="Date of Admission" />
                <h:outputText value="#{cc.attrs.admission.dateOfAdmission}" >
                    <f:convertDateTime pattern="#{sessionController.applicationPreference.longDateTimeFormat}" ></f:convertDateTime>
                </h:outputText>

                <p:outputLabel value="BHT No" />
                <h:outputText value="#{cc.attrs.admission.bhtNo}" />

                <p:outputLabel value="Citizenship" />
                <h:outputText value="#{cc.attrs.admission.foriegner ? 'Foreigner' : 'Local'}" />

                <p:outputLabel value="Claimable/Non-Claimable" />
                <h:outputText value="#{cc.attrs.admission.claimable ? 'Claimable' : 'Non-Claimable'}" />

                <p:outputLabel value="Referring Doctor"/>
                <h:outputText value="#{cc.attrs.admission.referringDoctor.person.name}" />

                <h:outputLabel value="OPD Doctor" />
                <h:outputText value="#{cc.attrs.admission.opdDoctor.person.nameWithTitle}" />

                <p:outputLabel value="Admission Type"/>
                <h:outputText value="#{cc.attrs.admission.admissionType.name}" />

                <h:outputLabel value="Payment Method"/>
                <h:outputText value="#{cc.attrs.admission.paymentMethod}" />

                <p:outputLabel value="Guardian Name" />
                <h:outputText value="#{cc.attrs.admission.guardian.name}" />

                <p:outputLabel value="Guardian NIC"/>
                <h:outputText value="#{cc.attrs.admission.guardian.nic}" />

                <p:outputLabel value="Guardian Mobile No" />
                <h:outputText value="#{cc.attrs.admission.guardian.mobile}" />

                <p:outputLabel value="Guardian Home Phone No" />
                <h:outputText value="#{cc.attrs.admission.guardian.phone}" />

                <p:outputLabel value="Guardian Address" />
                <h:outputText value="#{cc.attrs.admission.guardian.address}" />
            </h:panelGrid>


            <p:dataTable value="#{cc.attrs.rooms}" rendered="#{cc.attrs.rooms ne null}" var="rm">
                <p:column headerText="Room Name">
                    <h:outputText value="#{rm.roomFacilityCharge.name}" ></h:outputText>
                </p:column>      
                <p:column headerText="Admitted At">
                    <h:outputText value="#{rm.admittedAt}" >
                        <f:convertDateTime pattern="#{sessionController.applicationPreference.longDateTimeFormat}" ></f:convertDateTime>
                    </h:outputText>
                </p:column>     
                <p:column headerText="Discharged At">
                    <h:outputText value="#{rm.dischargedAt}" >
                        <f:convertDateTime pattern="#{sessionController.applicationPreference.longDateTimeFormat}" ></f:convertDateTime>
                    </h:outputText>
                </p:column>     
            </p:dataTable>



        </p:panel>


    </cc:implementation>
</html>